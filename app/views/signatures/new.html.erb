<div class="fixed inset-0 bg-gradient-to-br from-teal-50 to-blue-50 overflow-y-auto">
  <div class="min-h-screen flex items-center justify-center px-4 py-12">
    <%= turbo_frame_tag "signature_form" do %>
      <div class="bg-white p-8 rounded-lg shadow-lg max-w-md w-full">
        <h1 class="text-3xl font-bold text-gray-900 mb-2">Sign the Manifesto</h1>
        <p class="text-gray-600 mb-6">Join us in building a more sustainable digital future.</p>

        <% if local_assigns[:error] %>
          <div class="bg-red-50 border border-red-200 text-red-800 px-4 py-3 rounded mb-4">
            <%= error %>
          </div>
        <% end %>

        <%= form_with model: @signature, url: signatures_path, method: :post, data: { turbo_frame: "signature_form", controller: "turnstile" } do |f| %>
          <div class="mb-4">
            <label for="signature_email" class="block text-sm font-medium text-gray-700 mb-2">
              Email Address
            </label>
            <%= f.email_field :email, required: true, class: "w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent", placeholder: "your@email.com" %>
          </div>

          <div class="mb-4" data-controller="turnstile">
            <div class="cf-turnstile"
                 data-sitekey="<%= Rails.application.credentials.dig(:turnstile, :site_key) %>"
                 data-turnstile-target="widget"></div>
          </div>

          <div class="mb-4">
            <%= f.submit "Continue", class: "w-full bg-teal-600 text-white px-6 py-2 rounded-lg hover:bg-teal-700 transition-colors cursor-pointer text-center" %>
          </div>
        <% end %>

        <div class="text-center">
          <%= link_to "Go back", root_path, class: "text-sm text-gray-600 hover:text-gray-800", data: { turbo_frame: "_top" } %>
        </div>
      </div>

      <%= content_tag :script, nil, src: "https://challenges.cloudflare.com/turnstile/v0/api.js", async: true, defer: true %>
    <% end %>
  </div>
</div>
